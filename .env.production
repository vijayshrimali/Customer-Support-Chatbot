# Production Environment Configuration Template
# Copy this file to .env and fill in your actual values
# NEVER commit .env file to version control!

# =============================================================================
# API CONFIGURATION
# =============================================================================

# Google Gemini API Key (REQUIRED)
# Get your API key from: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your_gemini_api_key_here

# Model Configuration
MODEL_NAME=gemini-2.0-flash-exp
EMBEDDING_MODEL=models/embedding-001

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Environment (development, staging, production)
ENVIRONMENT=production

# API Host and Port
API_HOST=0.0.0.0
API_PORT=8000

# Number of Uvicorn workers (adjust based on CPU cores)
# Recommended: (2 x CPU cores) + 1
WORKERS=4

# Log Level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# =============================================================================
# CORS CONFIGURATION
# =============================================================================

# Allowed CORS origins (comma-separated)
# Production: Use specific domains only
# Example: https://yourdomain.com,https://www.yourdomain.com
CORS_ORIGINS=*

# Allow credentials in CORS requests
CORS_ALLOW_CREDENTIALS=true

# Allowed HTTP methods
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS

# Allowed HTTP headers
CORS_ALLOW_HEADERS=*

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Redis URL for caching
REDIS_URL=redis://localhost:6379

# Redis password (if authentication enabled)
REDIS_PASSWORD=

# Redis database number
REDIS_DB=0

# Cache TTL in seconds (default: 1 hour)
CACHE_TTL=3600

# =============================================================================
# RATE LIMITING
# =============================================================================

# Enable rate limiting
RATE_LIMIT_ENABLED=true

# Requests per minute per IP
RATE_LIMIT_PER_MINUTE=60

# Requests per hour per IP
RATE_LIMIT_PER_HOUR=1000

# =============================================================================
# AUTHENTICATION
# =============================================================================

# Enable API key authentication
API_KEY_AUTH_ENABLED=true

# API Keys (comma-separated)
# Generate using: python -c "import secrets; print(secrets.token_urlsafe(32))"
API_KEYS=your_api_key_1,your_api_key_2

# JWT Secret Key (for user authentication)
# Generate using: python -c "import secrets; print(secrets.token_urlsafe(64))"
JWT_SECRET_KEY=your_jwt_secret_key_here

# JWT Algorithm
JWT_ALGORITHM=HS256

# JWT Token expiry (in minutes)
JWT_EXPIRY_MINUTES=60

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# ChromaDB persist directory
CHROMA_PERSIST_DIRECTORY=./chroma_db

# ChromaDB collection name
CHROMA_COLLECTION_NAME=techgear_products

# Knowledge base path
KNOWLEDGE_BASE_PATH=./data/knowledge_base.json

# =============================================================================
# MONITORING & LOGGING
# =============================================================================

# Enable Prometheus metrics
PROMETHEUS_ENABLED=true

# Prometheus metrics port
PROMETHEUS_PORT=8001

# Enable structured logging
STRUCTURED_LOGGING=true

# Log file path
LOG_FILE_PATH=./logs/app.log

# Maximum log file size (in MB)
LOG_MAX_SIZE_MB=100

# Number of backup log files
LOG_BACKUP_COUNT=10

# =============================================================================
# GRAFANA CONFIGURATION
# =============================================================================

# Grafana admin password
GRAFANA_PASSWORD=your_secure_grafana_password

# =============================================================================
# SECURITY
# =============================================================================

# Enable HTTPS (requires SSL certificates)
ENABLE_HTTPS=false

# SSL certificate paths
SSL_CERT_PATH=./ssl/cert.pem
SSL_KEY_PATH=./ssl/key.pem

# Trusted proxy IPs (comma-separated)
TRUSTED_PROXIES=127.0.0.1

# =============================================================================
# PERFORMANCE
# =============================================================================

# Maximum concurrent requests
MAX_CONCURRENT_REQUESTS=100

# Request timeout (in seconds)
REQUEST_TIMEOUT=30

# Enable response caching
ENABLE_CACHING=true

# ChromaDB top-k results
RETRIEVER_TOP_K=3

# =============================================================================
# CLOUD DEPLOYMENT (Optional)
# =============================================================================

# AWS Configuration
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=

# GCP Configuration
GCP_PROJECT_ID=
GCP_SERVICE_ACCOUNT_KEY=

# Azure Configuration
AZURE_SUBSCRIPTION_ID=
AZURE_RESOURCE_GROUP=
AZURE_LOCATION=eastus

# =============================================================================
# ALERTING (Optional)
# =============================================================================

# Email alerts
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
ALERT_EMAIL_TO=

# Slack webhook for alerts
SLACK_WEBHOOK_URL=

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable experimental features
ENABLE_EXPERIMENTAL_FEATURES=false

# Enable conversation history
ENABLE_CONVERSATION_HISTORY=true

# Maximum conversation history length
MAX_CONVERSATION_HISTORY=10
